<style>
  .pub-year-debug {
    margin: 1rem 0;
    padding: .5rem .75rem;
    background: #fff7cc;
    border: 1px solid #f4d03f;
    border-radius: .375rem;
    font-weight: 600;
  }
</style>

<script>
(function(){
  // Always inject a debug banner at the top of <main> (or body as fallback)
  const root = document.querySelector('main') || document.body;
  const banner = document.createElement('div');
  banner.className = 'pub-year-debug';
  banner.textContent = 'âœ… Year-header script is RUNNING (debug banner).';
  root.prepend(banner);

  // Also log to console so you can verify in DevTools
  console.log('[pub-year-test] script ran');

  // Count items we think are publications and show the count
  const items = root.querySelectorAll('.view-list article, .article-list article, .publications article, article');
  banner.textContent += ` Found ${items.length} <article> nodes.`;

  // Drop a sample static header before the FIRST item so you can see placement
  if (items.length > 0) {
    const sample = document.createElement('h2');
    sample.textContent = 'SAMPLE YEAR HEADER (for testing only)';
    sample.style.cssText = 'margin: 2rem 0 .75rem; font-weight: 700; font-size: 1.5rem; border-bottom: 1px solid rgba(0,0,0,.08); padding-bottom: .25rem;';
    items[0].parentNode.insertBefore(sample, items[0]);
  }
})();
</script>
