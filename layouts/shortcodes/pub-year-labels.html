<style>
  .pub-year {
    margin: 2rem 0 .75rem;
    font-weight: 600;
    font-size: 1.5rem;
    border-bottom: 1px solid rgba(0,0,0,.08);
    padding-bottom: .25rem;
  }
</style>

<script>
(function addYearHeaders(){
  const root = document.querySelector('main') || document.body;
  if (!root || root.querySelector('.pub-year')) return;

  // <<< KEY SELECTOR from your dump
  const items = Array.from(root.querySelectorAll('.pub-list-item'));
  if (items.length < 2) return;

  const getYear = el => {
    const m = (el.textContent || '').match(/\((19|20)\d{2}\)/);
    return m ? m[0].slice(1,5) : '';
  };

  let last = '';
  items.forEach(el => {
    const y = getYear(el);
    if (y && y !== last) {
      const h = document.createElement('h2');
      h.className = 'pub-year';
      h.id = 'y-' + y;
      h.textContent = y;
      el.parentNode.insertBefore(h, el);
      last = y;
    }
  });

  // Debug: see what we picked up
  console.log('[pub-year-labels] items:', items.length,
              'years:', items.slice(0,5).map(getYear));
})();
</script>
